<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>A-FRAME DEMO</title>
    <link rel="stylesheet" href="styles.css">
    <script src="aframe.js"></script>
    <script src="aframe-gui.js"></script>
    <!--<script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>-->
    <script src="https://unpkg.com/aframe-html-shader@0.2.0/dist/aframe-html-shader.min.js"></script>
    <script src="shake.js"></script>
</head>
<body>
    <!--button for testing-->
    <!-- <button onCLick="shakeMe();">Shake!</button> -->

    <a-scene>
            <!-- Camera + cursor. -->
           <a-entity id="cameraRig">
               <a-camera look-controls wasd-controls>
                   <a-gui-cursor id="cursor"
                                 raycaster="objects: [gui-interactable]"
                                 fuse="true" fuse-timeout="1500"
                                 distance="-2"
                                 design="ring"
                   >
                   </a-gui-cursor> <!-- /cursor -->
               </a-camera> <!-- /camera -->
           </a-entity>

        <a-entity id="views">
            <a-image rotation="0 45 0" height="1.5" width="1.5" position="-2 0 -2" src="img/Group 56.png"></a-image>
            <a-image position="0 1 -3" height="0.4" width="2" src="img/Group 55.png"></a-image>
            <a-image rotation="0 45 0" height="0.25" width="0.65" position="-1.74 -0.85 -2.24" src="img/done.png"></a-image>
            <a-gui-button rotation="0 45 0" height="0.25" width="0.65" position="-1.784 -0.86 -2.288" value=""
                background-color="#000000" border-color="#000000" active-color="#000000" hover-color="#000000"
                onClick="onView1DoneClick"></a-image>
        </a-entity>
    </a-scene>

    <script>
        var views = document.getElementById("views");

        function createView1(){
            views.innerHTML = "";
            var el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '1.5');
            el.setAttribute('width', '1.5');
            el.setAttribute('position', '-2 0 -2');
            el.setAttribute('src', 'img/Group 56.png');
            views.appendChild(el);
            
            el = document.createElement('a-image');
            el.setAttribute('height', '0.4');
            el.setAttribute('width', '2');
            el.setAttribute('position', '0 1 -3');
            el.setAttribute('src', 'img/Group 55.png');
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-1.74 -0.85 -2.24');
            el.setAttribute('src', 'img/done.png');
            views.appendChild(el);

            el = document.createElement('a-gui-button');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-1.784 -0.86 -2.288');
            el.setAttribute('value', '');
            el.setAttribute('background-color', '#000000');
            el.setAttribute('border-color', '#000000');
            el.setAttribute('active-color', '#000000');
            el.setAttribute('hover-color', '#000000');
            el.addEventListener('click', onView1DoneClick);
            views.appendChild(el);
        }

        function createView2(){
            views.innerHTML = "";
            var el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '2');
            el.setAttribute('width', '1.5');
            el.setAttribute('position', '-2 0 -2');
            el.setAttribute('src', 'img/Group 79.png');
            views.appendChild(el);
            
            el = document.createElement('a-image');
            el.setAttribute('height', '0.4');
            el.setAttribute('width', '2');
            el.setAttribute('position', '0 1 -3');
            el.setAttribute('src', 'img/Group 78.png');
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-1.74 -1.2 -2.24');
            el.setAttribute('src', 'img/done.png');
            views.appendChild(el);

            el = document.createElement('a-gui-button');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-1.784 -1.21 -2.288');
            el.setAttribute('value', '');
            el.setAttribute('background-color', '#000000');
            el.setAttribute('border-color', '#000000');
            el.setAttribute('active-color', '#000000');
            el.setAttribute('hover-color', '#000000');
            el.addEventListener('click', onView2DoneClick);
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-2.24 -1.2 -1.74');
            el.setAttribute('src', 'img/back.png');
            views.appendChild(el);

            el = document.createElement('a-gui-button');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-2.284 -1.21 -1.788');
            el.setAttribute('value', '');
            el.setAttribute('background-color', '#000000');
            el.setAttribute('border-color', '#000000');
            el.setAttribute('active-color', '#000000');
            el.setAttribute('hover-color', '#000000');
            el.addEventListener('click', onView2BackClick);
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '2');
            el.setAttribute('width', '1.5');
            el.setAttribute('position', '2 0 -2');
            el.setAttribute('src', 'img/Group 77.png');
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.836');
            el.setAttribute('position', '2 -1.2 -2');
            el.setAttribute('src', 'img/problem.png');
            views.appendChild(el);

            el = document.createElement('a-gui-button');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.836');
            el.setAttribute('position', '2.05 -1.21 -2.05');
            el.setAttribute('value', '');
            el.setAttribute('background-color', '#000000');
            el.setAttribute('border-color', '#000000');
            el.setAttribute('active-color', '#000000');
            el.setAttribute('hover-color', '#000000');
            el.addEventListener('click', onView2ProblemFoundClick);
            views.appendChild(el);
        }
        
        function createView3(){
            views.innerHTML = "";
            var el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '2');
            el.setAttribute('width', '1.5');
            el.setAttribute('position', '-2 0 -2');
            el.setAttribute('src', 'img/screenX1-left.png');
            views.appendChild(el);
            
            el = document.createElement('a-image');
            el.setAttribute('height', '0.4');
            el.setAttribute('width', '2');
            el.setAttribute('position', '0 1 -3');
            el.setAttribute('src', 'img/screenX1-middle.png');
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-1.74 -1.2 -2.24');
            el.setAttribute('src', 'img/done.png');
            views.appendChild(el);

            el = document.createElement('a-gui-button');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-1.784 -1.21 -2.288');
            el.setAttribute('value', '');
            el.setAttribute('background-color', '#000000');
            el.setAttribute('border-color', '#000000');
            el.setAttribute('active-color', '#000000');
            el.setAttribute('hover-color', '#000000');
            el.addEventListener('click', onView3DoneClick);
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-2.24 -1.2 -1.74');
            el.setAttribute('src', 'img/back.png');
            views.appendChild(el);

            el = document.createElement('a-gui-button');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-2.284 -1.21 -1.788');
            el.setAttribute('value', '');
            el.setAttribute('background-color', '#000000');
            el.setAttribute('border-color', '#000000');
            el.setAttribute('active-color', '#000000');
            el.setAttribute('hover-color', '#000000');
            el.addEventListener('click', onView3BackClick);
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '2');
            el.setAttribute('width', '1.5');
            el.setAttribute('position', '2 0 -2');
            el.setAttribute('src', 'img/screenX1-right.png');
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.836');
            el.setAttribute('position', '2 -1.2 -2');
            el.setAttribute('src', 'img/problem.png');
            views.appendChild(el);

            el = document.createElement('a-gui-button');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.836');
            el.setAttribute('position', '2.05 -1.21 -2.05');
            el.setAttribute('value', '');
            el.setAttribute('background-color', '#000000');
            el.setAttribute('border-color', '#000000');
            el.setAttribute('active-color', '#000000');
            el.setAttribute('hover-color', '#000000');
            el.addEventListener('click', onView3ProblemFoundClick);
            views.appendChild(el);
        }

        function createView4(){
            views.innerHTML = "";
            var el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '1.25');
            el.setAttribute('width', '1.5');
            el.setAttribute('position', '-2 0.1 -2');
            el.setAttribute('src', 'img/screenX2-left.png');
            views.appendChild(el);
            
            el = document.createElement('a-image');
            el.setAttribute('height', '0.4');
            el.setAttribute('width', '2');
            el.setAttribute('position', '0 1 -3');
            el.setAttribute('src', 'img/screenX2-middle.png');
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-1.74 -0.7 -2.24');
            el.setAttribute('src', 'img/button-finish.png');
            views.appendChild(el);

            el = document.createElement('a-gui-button');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-1.784 -0.71 -2.288');
            el.setAttribute('value', '');
            el.setAttribute('background-color', '#000000');
            el.setAttribute('border-color', '#000000');
            el.setAttribute('active-color', '#000000');
            el.setAttribute('hover-color', '#000000');
            el.addEventListener('click', onView4DoneClick);
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-2.24 -0.7 -1.74');
            el.setAttribute('src', 'img/back.png');
            views.appendChild(el);

            el = document.createElement('a-gui-button');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-2.284 -0.71 -1.788');
            el.setAttribute('value', '');
            el.setAttribute('background-color', '#000000');
            el.setAttribute('border-color', '#000000');
            el.setAttribute('active-color', '#000000');
            el.setAttribute('hover-color', '#000000');
            el.addEventListener('click', onView4BackClick);
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '2');
            el.setAttribute('width', '1.5');
            el.setAttribute('position', '2 0 -2');
            el.setAttribute('src', 'img/screenX2-right.png');
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.836');
            el.setAttribute('position', '2 -1.2 -2');
            el.setAttribute('src', 'img/problem.png');
            views.appendChild(el);

            el = document.createElement('a-gui-button');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.836');
            el.setAttribute('position', '2.05 -1.21 -2.05');
            el.setAttribute('value', '');
            el.setAttribute('background-color', '#000000');
            el.setAttribute('border-color', '#000000');
            el.setAttribute('active-color', '#000000');
            el.setAttribute('hover-color', '#000000');
            el.addEventListener('click', onView4ProblemFoundClick);
            views.appendChild(el);
        }

        function createView5(){
            views.innerHTML = "";
            var el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '1.25');
            el.setAttribute('width', '1.5');
            el.setAttribute('position', '-2 0.1 -2');
            el.setAttribute('src', 'img/screen-finished-left.png');
            views.appendChild(el);
            
            el = document.createElement('a-image');
            el.setAttribute('height', '0.4');
            el.setAttribute('width', '2');
            el.setAttribute('position', '0 1 -3');
            el.setAttribute('src', 'img/screen-finished-middle.png');
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('height', '3');
            el.setAttribute('width', '3');
            el.setAttribute('position', '0 0 -3.1');
            el.setAttribute('src', 'img/fireworks.png');
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '2');
            el.setAttribute('width', '1.5');
            el.setAttribute('position', '2 0 -2');
            el.setAttribute('src', 'img/screen-finished-right.png');
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.7');
            el.setAttribute('position', '2 -1.2 -2');
            el.setAttribute('src', 'img/button-save-report.png');
            views.appendChild(el);
        }

        function createViewError(){
            views.innerHTML = "";
            var el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '2');
            el.setAttribute('width', '1.5');
            el.setAttribute('position', '-2 0 -2');
            el.setAttribute('src', 'img/Group 81.png');
            views.appendChild(el);
            
            el = document.createElement('a-image');
            el.setAttribute('height', '0.4');
            el.setAttribute('width', '2');
            el.setAttribute('position', '0 1 -3');
            el.setAttribute('src', 'img/Group 82.png');
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-1.74 -1.2 -2.24');
            el.setAttribute('src', 'img/button-finish.png');
            views.appendChild(el);

            el = document.createElement('a-gui-button');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-1.784 -1.21 -2.288');
            el.setAttribute('value', '');
            el.setAttribute('background-color', '#000000');
            el.setAttribute('border-color', '#000000');
            el.setAttribute('active-color', '#000000');
            el.setAttribute('hover-color', '#000000');
            el.addEventListener('click', onViewErrorDoneClick);
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-2.24 -1.2 -1.74');
            el.setAttribute('src', 'img/Group 83.png');
            views.appendChild(el);

            el = document.createElement('a-gui-button');
            el.setAttribute('rotation', '0 45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.65');
            el.setAttribute('position', '-2.284 -1.21 -1.788');
            el.setAttribute('value', '');
            el.setAttribute('background-color', '#000000');
            el.setAttribute('border-color', '#000000');
            el.setAttribute('active-color', '#000000');
            el.setAttribute('hover-color', '#000000');
            el.addEventListener('click', onViewErrorEditReportClick);
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '2');
            el.setAttribute('width', '1.5');
            el.setAttribute('position', '2 0 -2');
            el.setAttribute('src', 'img/Group 77 error.png');
            views.appendChild(el);

            el = document.createElement('a-image');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.836');
            el.setAttribute('position', '2 -1.2 -2');
            el.setAttribute('src', 'img/problem.png');
            views.appendChild(el);

            el = document.createElement('a-gui-button');
            el.setAttribute('rotation', '0 -45 0');
            el.setAttribute('height', '0.25');
            el.setAttribute('width', '0.836');
            el.setAttribute('position', '2.05 -1.21 -2.05');
            el.setAttribute('value', '');
            el.setAttribute('background-color', '#000000');
            el.setAttribute('border-color', '#000000');
            el.setAttribute('active-color', '#000000');
            el.setAttribute('hover-color', '#000000');
            el.addEventListener('click', onView3ProblemFoundClick);
            views.appendChild(el);
        }

            function onView1DoneClick(){
                createView2();
                
                setTimeout(showWarning, 5000);
            }

            function showWarning(){
                var el = document.createElement('a-image');
                el.setAttribute('id', 'notification');
                el.setAttribute('height', '0.8');
                el.setAttribute('width', '2');
                el.setAttribute('position', '0 0 -3');
                el.setAttribute('src', 'img/warning.png');
                views.appendChild(el);

                setTimeout(hideWarning, 10000);
            }

            function hideWarning(){
                var el = document.getElementById('notification');
                el.setAttribute('visible', false);

                setTimeout(showNotice, 5000);
            }

            function showNotice(){
                var el = document.getElementById('notification');
                el.setAttribute('src', 'img/supervising-notice.png');
                el.setAttribute('visible', true);
            }

            function onView2BackClick(){
                //createView1();
            }

            function onView2DoneClick(){
                //createView3();
            }

            function onView2ProblemFoundClick(){
                //createViewError();
            }

            function onView3BackClick(){
                createView2();
            }

            function onView3DoneClick(){
                createView4();
            }

            function onView3ProblemFoundClick(){
                createViewError();
            }

            function onView4BackClick(){
                createView3();
            }

            function onView4DoneClick(){
                createView5();
            }

            function onView4ProblemFoundClick(){
                createViewError();
            }

            function onViewErrorEditReportClick(){

            }

            function onViewErrorDoneClick(){

            }

            function lockView() {
                location.reload();  
                if (locked == true) {
                    camera.innerHTML = unlockedCameraCursor;
                    planes.innerHTML = planesHTML;
                    locked = false;
                } else {
                    camera.innerHTML = lockedCameraPlanes;
                    planes.innerHTML = '';
                    locked = true;
                }
            }

            //functions to call when shake occurs
            function shakeEventDidOccur () {
                if (scene.hasLoaded) {
                    lockView();
                } else {
                    scene.addEventListener('shake', lockView, false);
                }
            };

            // get scene
            var scene = null;
            window.onload = function() {
                scene = document.querySelector('a-scene');
                scene.enterVR();
                window.addEventListener('shake', shakeEventDidOccur, false);
            };

            // shake event
            var myShakeEvent = new Shake({
                threshold: 4, // optional shake strength threshold
                timeout: 300 // optional, determines the frequency of event generation
            });
            myShakeEvent.start();

            // for testing
            var triggerShake = document.createEvent("HTMLEvents");
            triggerShake.initEvent("shake", true, true);
            function shakeMe(){
                document.dispatchEvent(triggerShake); // for testing with button
            }
        </script>
</body>
</html>